(this["webpackJsonpwine-library"]=this["webpackJsonpwine-library"]||[]).push([[0],{35:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(12),c=n.n(a),i=n(25),s=n(11),u=(n(35),n(36),n(9)),o=Object(u.b)({name:"valueSliders",initialState:{storage:0,transfer:0},reducers:{setStorage:function(e,t){e.storage=t.payload},setTransfer:function(e,t){e.transfer=t.payload}}}),j=o.actions,m=o.reducer,b=s.c,l=s.b,f=n(3),d=n(1),O=function(e){var t=e.name,n=e.fn,a=Object(r.useState)(0),c=Object(f.a)(a,2),i=c[0],s=c[1],u=function(e,t){var n=Object(r.useState)(e),a=Object(f.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){return clearTimeout(n)}}),[e]),c}(i,500);return Object(r.useEffect)((function(){n(u)}),[u]),Object(d.jsxs)("div",{className:"price-slider",children:["".concat(t,": ").concat(i,"GB"),Object(d.jsx)("input",{type:"range",min:"0",max:"1000",value:i,step:1,onChange:function(e){s(+e.target.value)}})]})},v=function(){var e=l(),t=Object(r.useCallback)((function(t){e(j.setStorage(t))}),[]),n=Object(r.useCallback)((function(t){e(j.setTransfer(t))}),[]);return Object(d.jsxs)("div",{className:"price-sliders",children:[Object(d.jsx)(O,{name:"Storage",fn:t}),Object(d.jsx)(O,{name:"Transfer",fn:n})]})},h=n(23),p=n.n(h),x=n(6),g=Object(u.b)({name:"activeBar",initialState:{activeSliders:[0,0,0,0],price:[0,0,0,0]},reducers:{setActiveBar:function(e,t){e.price[t.payload.number]=t.payload.value;var n=e.price.findIndex((function(t){return t===Math.min.apply(Math,Object(x.a)(e.price))}));e.activeSliders=e.activeSliders.map((function(){return 0})),e.activeSliders[n]=1}}}),P=g.actions,y=g.reducer;function S(){var e=window;return{innerWidth:e.innerWidth,innerHeight:e.innerHeight}}var _=["red","orange","purple","blue"],w=function(e){var t=e.name,n=e.minPayment,a=e.maxPayment,c=e.options,i=e.number,s=l(),u=b((function(e){return e.valueSliders})),o=u.transfer,j=u.storage,m=b((function(e){return e.activeBarSlice})).activeSliders,O=Object(r.useState)(c[0]),v=Object(f.a)(O,2),h=v[0],x=v[1],g=function(){var e=Object(r.useState)(S()),t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(S())}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),[n.innerWidth,n.innerHeight]}(),y=Object(f.a)(g,1)[0],w=Object(r.useMemo)((function(){var e=o>h.free?o-h.free:0,t=j>h.free?j-h.free:0;return Math.round(100*(e*h.transferPrice+t*h.storagePrice))/100}),[o,j,h]),N=Object(r.useMemo)((function(){return n>w?n:w>a&&a||w}),[w]);return Object(r.useEffect)((function(){s(P.setActiveBar({number:i,value:N}))}),[N]),Object(d.jsxs)("div",{className:"chart",children:[Object(d.jsxs)("div",{className:"chart__bar",children:[Object(d.jsx)("div",{className:"chart__bar__price",children:N}),Object(d.jsx)("div",{className:p()("chart__bar__item",m[i]?"chart__bar__item--".concat(_[i]):""),style:{height:y>1020?"100%":"".concat(N,"%"),width:y<1020?"auto":"".concat(N,"%")}})]}),Object(d.jsxs)("div",{className:"chart__name",children:[Object(d.jsx)("strong",{children:t}),c.length>1&&Object(d.jsx)("form",{className:"chart__options",children:c.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{"aria-hidden":!0,onClick:function(){x(e)},children:[e.name,Object(d.jsx)("input",{checked:e.name===h.name,type:"radio",name:"fav_language"})]})})}))})]})]})},N=function(){return Object(d.jsxs)("div",{className:"charts",children:[Object(d.jsx)(w,{name:"backblaze",minPayment:7,maxPayment:1e3,number:0,options:[{name:"",storagePrice:.005,transferPrice:.01,free:0}]}),Object(d.jsx)(w,{name:"bunny",minPayment:0,maxPayment:10,number:1,options:[{name:"HDD",storagePrice:.01,transferPrice:.01,free:0},{name:"SSD",storagePrice:.02,transferPrice:.01,free:0}]}),Object(d.jsx)(w,{name:"scaleway",minPayment:0,maxPayment:1e3,number:2,options:[{name:"Multi",storagePrice:.06,transferPrice:.02,free:75},{name:"Single",storagePrice:.03,transferPrice:.02,free:75}]}),Object(d.jsx)(w,{name:"vultr",minPayment:5,maxPayment:1e3,number:3,options:[{name:"",storagePrice:.01,transferPrice:.01,free:0}]})]})},k=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(v,{}),Object(d.jsx)(N,{})]})})},B=n(24),E=Object(u.a)({reducer:{valueSliders:m,activeBarSlice:y}});Object(B.composeWithDevTools)();var M=E;c.a.render(Object(d.jsx)(s.a,{store:M,children:Object(d.jsx)(i.a,{children:Object(d.jsx)(k,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.c51c4f00.chunk.js.map